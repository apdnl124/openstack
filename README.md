# OpenStack Zed with Magnum & Octavia on CentOS 9

ì´ ì €ì¥ì†ŒëŠ” VMware ê°€ìƒë¨¸ì‹  í™˜ê²½ì—ì„œ CentOS 9ë¥¼ ì‚¬ìš©í•˜ì—¬ OpenStack Zed ë²„ì „ì„ ì„¤ì¹˜í•˜ê³ , Magnum(Container Orchestration)ê³¼ Octavia(Load Balancer) ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì™„ì „í•œ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [í™˜ê²½ êµ¬ì„±](#í™˜ê²½-êµ¬ì„±)
2. [ì„¤ì¹˜ ê°€ì´ë“œ](#ì„¤ì¹˜-ê°€ì´ë“œ)
3. [ì„œë¹„ìŠ¤ êµ¬ì„±](#ì„œë¹„ìŠ¤-êµ¬ì„±)
4. [ë©€í‹° ë…¸ë“œ êµ¬ì„±](#ë©€í‹°-ë…¸ë“œ-êµ¬ì„±)
5. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

## ğŸ–¥ï¸ í™˜ê²½ êµ¬ì„±

### ë‹¨ì¼ ë…¸ë“œ (All-in-One) êµ¬ì„±
- **ì„œë²„**: 1ëŒ€
- **ì—­í• **: Controller + Compute + Network + Storage
- **ìµœì†Œ í•˜ë“œì›¨ì–´**:
  - CPU: 4 cores (ê°€ìƒí™” ì§€ì›)
  - RAM: 16GB ì´ìƒ ê¶Œì¥
  - ë””ìŠ¤í¬: 100GB ì´ìƒ
  - ë„¤íŠ¸ì›Œí¬: 2ê°œ ì´ìƒì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤

### ë©€í‹° ë…¸ë“œ êµ¬ì„± (ê¶Œì¥)
- **Controller ë…¸ë“œ**: 1ëŒ€ (192.168.1.10)
  - Keystone, Glance, Nova API, Neutron Server, Horizon ë“±
  - CPU: 4 cores, RAM: 8GB, ë””ìŠ¤í¬: 50GB
- **Compute ë…¸ë“œ**: 1ëŒ€ ì´ìƒ (192.168.1.11, 192.168.1.12, ...)
  - Nova Compute, Neutron Agent
  - CPU: 4 cores, RAM: 8GB, ë””ìŠ¤í¬: 50GB

### ë„¤íŠ¸ì›Œí¬ êµ¬ì„±
- **Management Network**: 192.168.1.0/24
- **Provider Network**: 192.168.100.0/24
- **Tunnel Network**: 10.0.0.0/24

## ğŸ“š ì„¤ì¹˜ ê°€ì´ë“œ

### ë‹¨ì¼ ë…¸ë“œ ì„¤ì¹˜

1. **[í™˜ê²½ ì„¤ì •](docs/01-environment-setup.md)**
   - VMware ê°€ìƒë¨¸ì‹  ìƒì„±
   - CentOS 9 ì„¤ì¹˜ ë° ê¸°ë³¸ ì„¤ì •
   - ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

2. **[Packstack ì„¤ì¹˜](docs/02-packstack-installation.md)**
   - RDO ì €ì¥ì†Œ ì„¤ì •
   - Packstackì„ ì´ìš©í•œ OpenStack Zed ì„¤ì¹˜
   - ê¸°ë³¸ ì„œë¹„ìŠ¤ í™•ì¸

3. **[Magnum êµ¬ì„±](docs/03-magnum-setup.md)**
   - Magnum ì„œë¹„ìŠ¤ ì„¤ì¹˜
   - Kubernetes/Docker Swarm í´ëŸ¬ìŠ¤í„° í…œí”Œë¦¿ ìƒì„±
   - ì»¨í…Œì´ë„ˆ í´ëŸ¬ìŠ¤í„° ë°°í¬

4. **[Octavia êµ¬ì„±](docs/04-octavia-setup.md)**
   - Octavia ì„œë¹„ìŠ¤ ì„¤ì¹˜
   - Amphora ì´ë¯¸ì§€ ìƒì„±
   - ë¡œë“œë°¸ëŸ°ì„œ ìƒì„± ë° í…ŒìŠ¤íŠ¸

### ë©€í‹° ë…¸ë“œ ì„¤ì¹˜

5. **[ë©€í‹° ë…¸ë“œ êµ¬ì„±](docs/05-multi-node-setup.md)**
   - Controller + Compute ë…¸ë“œ ë¶„ë¦¬ êµ¬ì„±
   - ê³ ê°€ìš©ì„± ë° í™•ì¥ì„± í–¥ìƒ
   - ë¡œë“œ ë¶„ì‚° ë° ì¥ì•  ë³µêµ¬

## ğŸ› ï¸ ìë™í™” ìŠ¤í¬ë¦½íŠ¸

### ë‹¨ì¼ ë…¸ë“œìš©
- `scripts/install-prerequisites.sh`: ì‚¬ì „ ìš”êµ¬ì‚¬í•­ ì„¤ì¹˜
- `scripts/packstack-install.sh`: Packstack ìë™ ì„¤ì¹˜
- `scripts/magnum-setup.sh`: Magnum ì„œë¹„ìŠ¤ êµ¬ì„±
- `scripts/octavia-setup.sh`: Octavia ì„œë¹„ìŠ¤ êµ¬ì„±

### ë©€í‹° ë…¸ë“œìš©
- `scripts/prepare-compute-node.sh`: Compute ë…¸ë“œ ì¤€ë¹„ (ê° Compute ë…¸ë“œì—ì„œ ì‹¤í–‰)
- `scripts/multinode-setup.sh`: ë©€í‹° ë…¸ë“œ ìë™ ì„¤ì¹˜ (Controller ë…¸ë“œì—ì„œ ì‹¤í–‰)

## âš™ï¸ ì„¤ì • íŒŒì¼

- `configs/packstack-answers-template.txt`: Packstack ì„¤ì¹˜ ì‘ë‹µ íŒŒì¼
- `configs/magnum.conf.template`: Magnum ì„œë¹„ìŠ¤ ì„¤ì •
- `configs/octavia.conf.template`: Octavia ì„œë¹„ìŠ¤ ì„¤ì •

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ë‹¨ì¼ ë…¸ë“œ ì„¤ì¹˜
```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/apdnl124/openstack.git
cd openstack

# 2. ì‚¬ì „ ìš”êµ¬ì‚¬í•­ ì„¤ì¹˜
sudo ./scripts/install-prerequisites.sh
sudo reboot

# 3. OpenStack ì„¤ì¹˜
sudo ./scripts/packstack-install.sh

# 4. Magnum ì„¤ì¹˜
sudo ./scripts/magnum-setup.sh

# 5. Octavia ì„¤ì¹˜
sudo ./scripts/octavia-setup.sh
```

### ë©€í‹° ë…¸ë“œ ì„¤ì¹˜
```bash
# ê° Compute ë…¸ë“œì—ì„œ ì‹¤í–‰
sudo ./scripts/prepare-compute-node.sh

# Controller ë…¸ë“œì—ì„œ ì‹¤í–‰
sudo ./scripts/multinode-setup.sh
```

## ğŸ”§ ë©€í‹° ë…¸ë“œ êµ¬ì„±

### ì¥ì 
- **ì„±ëŠ¥ í–¥ìƒ**: ì›Œí¬ë¡œë“œê°€ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ì‚°
- **ê³ ê°€ìš©ì„±**: ë‹¨ì¼ ì¥ì• ì  ì œê±°
- **í™•ì¥ì„±**: í•„ìš”ì— ë”°ë¼ Compute ë…¸ë“œ ì¶”ê°€/ì œê±° ê°€ëŠ¥
- **ë¦¬ì†ŒìŠ¤ ê²©ë¦¬**: Controllerì™€ Compute ê¸°ëŠ¥ ë¶„ë¦¬

### êµ¬ì„± ì˜ˆì‹œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Controller     â”‚    â”‚  Compute-1      â”‚    â”‚  Compute-2      â”‚
â”‚  192.168.1.10   â”‚    â”‚  192.168.1.11   â”‚    â”‚  192.168.1.12   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Keystone      â”‚    â”‚ â€¢ Nova Compute  â”‚    â”‚ â€¢ Nova Compute  â”‚
â”‚ â€¢ Glance        â”‚    â”‚ â€¢ Neutron Agent â”‚    â”‚ â€¢ Neutron Agent â”‚
â”‚ â€¢ Nova API      â”‚    â”‚ â€¢ OVS Agent     â”‚    â”‚ â€¢ OVS Agent     â”‚
â”‚ â€¢ Neutron Serverâ”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Horizon       â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Cinder API    â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Heat          â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

| êµ¬ì„± | ë‹¨ì¼ ë…¸ë“œ | ë©€í‹° ë…¸ë“œ (1+2) |
|------|-----------|------------------|
| ë™ì‹œ ì¸ìŠ¤í„´ìŠ¤ | ~10ê°œ | ~30ê°œ |
| CPU í™œìš©ë¥  | ë†’ìŒ | ë¶„ì‚°ë¨ |
| ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ | ì§‘ì¤‘ë¨ | ë¶„ì‚°ë¨ |
| ì¥ì•  ë³µêµ¬ | ë¶ˆê°€ëŠ¥ | ê°€ëŠ¥ |
| í™•ì¥ì„± | ì œí•œì  | ìš°ìˆ˜ |

## ğŸ”§ ë¬¸ì œ í•´ê²°

ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²° ë°©ë²•ì€ [troubleshooting.md](docs/troubleshooting.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ë©€í‹° ë…¸ë“œ ê´€ë ¨ ë¬¸ì œ
- SSH í‚¤ ì¸ì¦ ì‹¤íŒ¨
- ë…¸ë“œ ê°„ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ
- ì„œë¹„ìŠ¤ ë¶„ì‚° ì„¤ì • ì˜¤ë¥˜
- ë¡œë“œ ë°¸ëŸ°ì‹± ë¬¸ì œ

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ Issues íƒ­ì—ì„œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

**ì£¼ì˜ì‚¬í•­**: ì´ ê°€ì´ë“œëŠ” í•™ìŠµ ë° í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì¶”ê°€ì ì¸ ë³´ì•ˆ ì„¤ì •ê³¼ ìµœì í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•**: Prometheus + Grafana
2. **ë°±ì—… ë° ë³µêµ¬ ì‹œìŠ¤í…œ**: ìë™í™”ëœ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
3. **CI/CD íŒŒì´í”„ë¼ì¸**: GitLab CI ë˜ëŠ” Jenkins ì—°ë™
4. **ë³´ì•ˆ ê°•í™”**: SSL/TLS ì¸ì¦ì„œ, ë°©í™”ë²½ ê·œì¹™ ìµœì í™”
